<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
				list-style: none;
			}
		</style>
	</head>
	<body>
		<div class="vanclAd ">
		    <div class="banner ">
		        <ul class="wrap ">
		            <li>
		                <a href="./html/product.html ">1<img src="img/banner1.jpg " alt=" "></a>
		            </li>
		            <li>
		                <a href="./html/product.html ">2<img src="img/banner2.jpg " alt=" "></a>
		            </li>
		            <li>
		                <a href="./html/product.html ">3<img src="img/banner3.jpg " alt=" "></a>
		            </li>
		            <li>
		                <a href="./html/product.html ">4<img src="img/banner4.jpg " alt=" "></a>
		            </li>
		        </ul>
		
		        <ul class="menu ">
		            <li class="active "></li>
		            <li></li>
		            <li></li>
		            <li></li>
		        </ul>
		        <div class="arrow_l "></div>
		        <div class="arrow_r "></div>
		    </div>
		</div>
	</body>
	<script src="http://libs.baidu.com/jquery/1.11.1/jquery.min.js"></script>
	<script type="text/javascript">
		/********************************轮播图开始*********************************************/
		var oldIndex = 0;
		var newIndex = 0;
		var timer = null;
		
		//自动轮播
		autoPlay();
		
		function autoPlay() {
		
		    timer = setInterval(function() {
		
		        newIndex++;
		        move();
		    }, 2000)
		
		}
		
		
		//滑入停止，滑出继续轮播
		$(".banner ").hover(function() {
		    clearInterval(timer);
		}, function() {
		    autoPlay();
		})
		
		
		
		//圆点滑入，图片对应变换
		$(".menu li ").mouseenter(function() {
		    //点击时将小圆点的索引给newIndex，再调用正向轮播就实现点击小圆点轮播
		    newIndex = $(this).index();
		    move();
		})
		
		
		//点击轮播
		$(".arrow_r ").click(function() {
		
		    newIndex++;
		
		    move();
		})
		$(".arrow_l ").click(function() {
		    newIndex--;
		
		    move_re();
		})
		
		//正向轮播
		function move() {
		    if (newIndex > 3) {
		        newIndex = 0;
		    }
		    $(".wrap li ").eq(newIndex).css({
		        left: 1200
		    }).stop().animate({
		        left: 0
		    }, 500);
		
		    $(".wrap li ").eq(oldIndex).css({
		        left: 0
		    }).stop().animate({
		        left: -1200
		    }, 500);
		    oldIndex = newIndex;
		
		    $(".menu li ").eq(newIndex).addClass("active ").siblings().removeClass("active ");
		}
		
		
		//反向轮播
		function move_re() {
		    if (newIndex < 0) {
		        newIndex = 3;
		    }
		
		    $(".wrap li ").eq(newIndex).css({
		        left: -1200
		    }).stop().animate({
		        left: 0
		    }, 500);
		
		    $(".wrap li ").eq(oldIndex).css({
		        left: 0
		    }).stop().animate({
		        left: 1200
		    }, 500);
		    oldIndex = newIndex;
		
		    $(".menu li ").eq(newIndex).addClass("active ").siblings().removeClass("active ");
		
		}
		/***************************************轮播图结束****************************************/
	</script>
</html>
